(this.webpackJsonpproductivity=this.webpackJsonpproductivity||[]).push([[0],{109:function(e,a,t){e.exports=t(141)},114:function(e,a,t){},115:function(e,a,t){},141:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),o=t.n(l),c=(t(114),t(16)),i=(t(115),t(28)),m=t(85),u=t(86),s=t(63),d={isAuthenticated:!1,user:{},loading:!1};var p=Object(i.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INSERT_USER":return Object(s.a)(Object(s.a)({},e),{},{isAuthenticated:!0,user:a.user});default:return e}}}),g=[m.a],f=[i.applyMiddleware.apply(void 0,g)],h=u.composeWithDevTools.apply(void 0,f),E=Object(i.createStore)(p,h),v=t(27),b=t(88),w=t.n(b),j=t(25),O=t.n(j),k=t(179),y=t(192),S=t(182),x=t(188),N=t(92),C=t.n(N),T=t(142),I=t(174),W=t(177),U=t(189),D=t(191),q=t(181),L=t(194),P=t(180),R=function(e){return e.auth.user},A=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var F=Object(v.b)((function(e){return{user:R(e)}}),{})((function(e){var a=A(),t=Object(n.useState)(""),l=Object(c.a)(t,2),o=l[0],i=l[1],m=Object(n.useState)("0"),u=Object(c.a)(m,2),s=u[0],d=u[1],p=Object(n.useState)("0"),g=Object(c.a)(p,2),f=g[0],h=g[1],E=Object(n.useState)(""),v=Object(c.a)(E,2),b=v[0],w=v[1],j=r.a.useState("female"),N=Object(c.a)(j,2),I=(N[0],N[1],e.user);return r.a.createElement(W.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:a.paper},r.a.createElement(y.a,{className:a.avatar},r.a.createElement(C.a,null)),r.a.createElement(T.a,{component:"h1",variant:"h5"},"Insert New Task"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(k.a,{container:!0,spacing:2},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(x.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Task Name",autoFocus:!0,onChange:function(e){return i(e.target.value)}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(L.a,{component:"fieldset"},r.a.createElement(P.a,{component:"legend"}," Urgency "),r.a.createElement(D.a,{row:!0,"aria-label":"Urgency",name:"urgency",value:f,onChange:function(e){h(e.target.value)}},r.a.createElement(q.a,{value:"0",control:r.a.createElement(U.a,null),label:"Not Urgent"}),r.a.createElement(q.a,{value:"1",control:r.a.createElement(U.a,null),label:" Urgent"})))),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(L.a,{component:"fieldset"},r.a.createElement(P.a,{component:"legend"}," Importancy "),r.a.createElement(D.a,{row:!0,"aria-label":"Importancy",name:"importancy",value:s,onChange:function(e){d(e.target.value)}},r.a.createElement(q.a,{labelPlacement:"end",value:"0",control:r.a.createElement(U.a,null),label:"Not Important"}),r.a.createElement(q.a,{labelPlacement:"end",value:"1",control:r.a.createElement(U.a,null),label:"Important"})))),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(x.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,fullWidth:!0,rows:4,defaultValue:"Default Value",variant:"outlined",onChange:function(e){return w(e.target.value)}}))),r.a.createElement(S.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(){console.log("handle insert clicked"),O.a.post("http://localhost:8000/task/insert",{name:o,description:b,importancy:s,urgency:f,userId:I.id}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},"Insert"),r.a.createElement(k.a,{container:!0,justify:"flex-end"}))))}));var B=Object(v.b)((function(e){return{user:R(e)}}))((function(e){var a=Object(n.useState)([]),t=Object(c.a)(a,2),l=t[0],o=t[1];return Object(n.useEffect)((function(){e.user&&e.user.id&&O.a.get("http://localhost:8000/task/tasks/id?".concat(e.user.id)).then((function(e){o(e.data)})).catch((function(e){console.log(e)})).then((function(){}))}),[e.user.id]),r.a.createElement("div",null,r.a.createElement(k.a,{container:!0,spacing:2},r.a.createElement(k.a,{item:!0,xs:6},r.a.createElement("h1",null," My Tasks "),l&&function(){var e="No Tasks Yet";return null!==l&&l.length>0&&(e=l.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("h2",null," ",e.name),r.a.createElement("h4",null,"Description")," : ",e.description,r.a.createElement("h4",null,"User Id : ")," : ",e.userId)}))),e}()),r.a.createElement(k.a,{item:!0,xs:6},r.a.createElement(F,null))))})),V=t(183),M=t(184),_=t(143),G=t(93),J=t.n(G),Y=Object(I.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function $(e){var a=Y();return r.a.createElement("div",{className:a.root},r.a.createElement(V.a,{position:"static"},r.a.createElement(M.a,null,r.a.createElement(_.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(J.a,null)),r.a.createElement(T.a,{variant:"h6",className:a.title},"ExtraProductive"),!e.isLoggedIn&&r.a.createElement(S.a,{color:"inherit",onClick:function(){return window.location.href="/signin"}},"Login"),!e.isLoggedIn&&r.a.createElement(S.a,{color:"inherit",onClick:function(){return window.location.href="/signup"}},"Signup"),e.isLoggedIn&&r.a.createElement(S.a,{color:"inherit",onClick:function(){delete localStorage.prodUserToken,window.location.href="/signin"}},"Logout"))))}t(193),t(185),Object(I.a)({root:{width:300},cardSpacing:{margin:10}});var z=t(186),H=t(190),K=t(55),Q=t.n(K),X=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Z=function(e){var a=X(),t=Object(n.useState)(""),l=Object(c.a)(t,2),o=l[0],i=l[1],m=Object(n.useState)(""),u=Object(c.a)(m,2),s=u[0],d=u[1];return r.a.createElement(W.a,{component:"main",maxWidth:"xs"},r.a.createElement(z.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(y.a,{className:a.avatar},r.a.createElement(Q.a,null)),r.a.createElement(T.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form},r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){i(e.target.value)}}),r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){d(e.target.value)}}),r.a.createElement(q.a,{control:r.a.createElement(H.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(S.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(){O.a.post("http://localhost:8000/user/login",{email:o,password:s}).then((function(e){e.data&&e.data.token&&(localStorage.prodUserToken=e.data.token,window.location.href="/")})).catch((function(e){console.log(e)}))}},"Sign In"))))},ee=Object(I.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var ae=function(e){var a=ee(),t=Object(n.useState)(""),l=Object(c.a)(t,2),o=l[0],i=l[1],m=Object(n.useState)(""),u=Object(c.a)(m,2),s=u[0],d=u[1],p=Object(n.useState)(""),g=Object(c.a)(p,2),f=g[0],h=g[1],E=Object(n.useState)(""),v=Object(c.a)(E,2),b=v[0],w=v[1];return r.a.createElement(W.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{className:a.paper},r.a.createElement(y.a,{className:a.avatar},r.a.createElement(Q.a,null)),r.a.createElement(T.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(k.a,{container:!0,spacing:2},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(x.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return i(e.target.value)}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(e){return d(e.target.value)}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return h(e.target.value)}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return w(e.target.value)}}))),r.a.createElement(S.a,{fullWidth:!0,variant:"contained",color:"primary",className:a.submit,onClick:function(){console.log("handleSignupClicked"),O.a.post("http://localhost:8000/user/signup",{email:f,password:b,firstname:o,lastname:s}).then((function(e){e.data&&e.data.token&&(localStorage.prodUserToken=e.data.token)})).catch((function(e){console.log(e)}))}},"Sign Up"))))},te=t(95),ne=t(12),re=t(94),le=t(187);var oe=function(){return r.a.createElement("div",null,r.a.createElement("h2",null," Five Choices of Extraordinary Productivity. "),r.a.createElement(B,null))};var ce=function(){var e=localStorage.prodUserToken,a=Object(n.useState)(!1),t=Object(c.a)(a,2),l=t[0],o=t[1];Object(n.useEffect)((function(){e?w()(e).exp>Date.now()/1e3?O.a.get("http://localhost:8000/user/me",{headers:{token:e}}).then((function(e){var a;o(!0),E.dispatch((a=e.data,function(e,t){e(function(e){return{type:"INSERT_USER",user:e}}(a))}))})).catch((function(e){console.log(e)})).then((function(){})):(console.log("Token is no longer valid"),delete localStorage.prodUserToken,localStorage.noToken=!0,window.location.href="/signin"):console.log("No Token, Please signup")}));var i=Object(re.a)({palette:{primary:{main:"#00838f",light:"#4fb3bf",dark:"#005662"},secondary:{main:"#26c6da",light:"#6ff9ff",dark:"#0095a8"}}});return r.a.createElement(v.a,{store:E},r.a.createElement(le.a,{theme:i},r.a.createElement(te.a,null,r.a.createElement("div",null,r.a.createElement($,{isLoggedIn:l})),r.a.createElement("div",{className:"App"},r.a.createElement(ne.c,null,r.a.createElement(ne.a,{component:oe,exact:!0,path:"/"}),r.a.createElement(ne.a,{component:Z,path:"/signin"}),r.a.createElement(ne.a,{component:ae,path:"/signup"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.620250c2.chunk.js.map